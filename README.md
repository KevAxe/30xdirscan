# 30xdirscan
利用存在目录的重定向特性爆破路径，解决现有一些工具无法进行目录爆破的特殊情况。

比如，一种情况：所有请求中，目标url只要不是存在的文件，全部返回404，包括存在的目录，也会返回404。

另一种情况：所有请求中，目标url只要不是存在的文件，全部跳转到统一页面。

但是，仔细观察（抓包）你会发现，无论是哪种情况，当访问一个存在的目录，不加斜杠时，例如http://kevaxe.com/admin ，都会先返回一个30x的响应，location值为http://kevaxe.com/admin/ ，即在原有的基础上加上了斜杠，访问不存在的目录时则不会有这种响应。

如果用御剑，遇到了前面说的第一种情况，存在的目录会爆破不出来，因为返回404。遇到第二种情况，则会出现大量不存在的路径全部返回30x，同样无法爆破。这类工具是通过直接判断http响应码来确定目录是否存在。

如果用猪猪侠的dirfuzz，第一种情况返回404，第二种情况会出现大量不存在的路径返回200。由于dirfuzz使用的是request库，默认会跟踪整条流，遇到重定向的时候会返回最终结果，而忽略重定向的过程，所以同样无法爆破。

根据上面总结的目录请求响应特性，我们可以在对目录进行爆破时，在url结尾不加斜杠，通过返回的30x响应中的location值来判断目录是否存在，如果存在，location值会再原有url上加上斜杠，否则目录不存在。根据这一原理，我写了一个目录爆破程序，命名为30xdirscan，当遇到上述特殊情况时可以考虑使用。
#使用示例：
Python 30xdirscan.py –u www.kevaxe.com –s /admin –t 15
#参数说明：
-u 目标网址

-s 要爆破的子目录

-t 线程数

结尾可加入想爆破的文件扩展名
